EESchema Schematic File Version 4
EELAYER 30 0
EELAYER END
$Descr A4 11693 8268
encoding utf-8
Sheet 3 9
Title "MCH2021 badge - STM32 microcontroller"
Date "2020-12-13"
Rev "2"
Comp "BADGE.TEAM"
Comment1 ""
Comment2 ""
Comment3 ""
Comment4 ""
$EndDescr
$Comp
L Device:C C?
U 1 1 5E3D7D7C
P 9600 5950
AR Path="/5DC753C3/5E3D7D7C" Ref="C?"  Part="1" 
AR Path="/5E3D7D7C" Ref="C?"  Part="1" 
AR Path="/5E3BA64A/5E3D7D7C" Ref="C?"  Part="1" 
AR Path="/5F51E414/5E3D7D7C" Ref="C11"  Part="1" 
F 0 "C11" H 9715 5996 50  0000 L CNN
F 1 "100n" H 9715 5905 50  0000 L CNN
F 2 "Capacitor_SMD:C_0402_1005Metric" H 9638 5800 50  0001 C CNN
F 3 "" H 9600 5950 50  0001 C CNN
F 4 "C83056 " H 9600 5950 50  0001 C CNN "LCSC"
F 5 "" H 9600 5950 50  0001 C CNN "Price"
F 6 "-" H 9600 5950 50  0001 C CNN "Mouser"
F 7 "N" H 9600 5950 50  0001 C CNN "Sponsored"
	1    9600 5950
	1    0    0    -1  
$EndComp
$Comp
L Device:C C?
U 1 1 5E3D85DB
P 10100 5950
AR Path="/5DC753C3/5E3D85DB" Ref="C?"  Part="1" 
AR Path="/5E3D85DB" Ref="C?"  Part="1" 
AR Path="/5E3BA64A/5E3D85DB" Ref="C?"  Part="1" 
AR Path="/5F51E414/5E3D85DB" Ref="C12"  Part="1" 
F 0 "C12" H 10215 5996 50  0000 L CNN
F 1 "100n" H 10215 5905 50  0000 L CNN
F 2 "Capacitor_SMD:C_0402_1005Metric" H 10138 5800 50  0001 C CNN
F 3 "" H 10100 5950 50  0001 C CNN
F 4 "C83056 " H 10100 5950 50  0001 C CNN "LCSC"
F 5 "" H 10100 5950 50  0001 C CNN "Price"
F 6 "-" H 10100 5950 50  0001 C CNN "Mouser"
F 7 "N" H 10100 5950 50  0001 C CNN "Sponsored"
	1    10100 5950
	1    0    0    -1  
$EndComp
$Comp
L Device:C C?
U 1 1 5E3D8A4A
P 10600 5950
AR Path="/5DC753C3/5E3D8A4A" Ref="C?"  Part="1" 
AR Path="/5E3D8A4A" Ref="C?"  Part="1" 
AR Path="/5E3BA64A/5E3D8A4A" Ref="C?"  Part="1" 
AR Path="/5F51E414/5E3D8A4A" Ref="C13"  Part="1" 
F 0 "C13" H 10715 5996 50  0000 L CNN
F 1 "100n" H 10715 5905 50  0000 L CNN
F 2 "Capacitor_SMD:C_0402_1005Metric" H 10638 5800 50  0001 C CNN
F 3 "" H 10600 5950 50  0001 C CNN
F 4 "C83056 " H 10600 5950 50  0001 C CNN "LCSC"
F 5 "" H 10600 5950 50  0001 C CNN "Price"
F 6 "-" H 10600 5950 50  0001 C CNN "Mouser"
F 7 "N" H 10600 5950 50  0001 C CNN "Sponsored"
	1    10600 5950
	1    0    0    -1  
$EndComp
$Comp
L Device:C C?
U 1 1 5E3EFF6B
P 5250 5200
AR Path="/5DC753C3/5E3EFF6B" Ref="C?"  Part="1" 
AR Path="/5E3EFF6B" Ref="C?"  Part="1" 
AR Path="/5E3BA64A/5E3EFF6B" Ref="C?"  Part="1" 
AR Path="/5F51E414/5E3EFF6B" Ref="C10"  Part="1" 
F 0 "C10" H 5250 5300 50  0000 L CNN
F 1 "22p" H 5250 5100 50  0000 L CNN
F 2 "Capacitor_SMD:C_0402_1005Metric" H 5288 5050 50  0001 C CNN
F 3 "" H 5250 5200 50  0001 C CNN
F 4 "C696906" H 5250 5200 50  0001 C CNN "LCSC"
F 5 "" H 5250 5200 50  0001 C CNN "Price"
F 6 "N" H 5250 5200 50  0001 C CNN "Sponsored"
	1    5250 5200
	1    0    0    -1  
$EndComp
$Comp
L Device:C C?
U 1 1 5E3F1F93
P 5050 5200
AR Path="/5DC753C3/5E3F1F93" Ref="C?"  Part="1" 
AR Path="/5E3F1F93" Ref="C?"  Part="1" 
AR Path="/5E3BA64A/5E3F1F93" Ref="C?"  Part="1" 
AR Path="/5F51E414/5E3F1F93" Ref="C9"  Part="1" 
F 0 "C9" H 4900 5300 50  0000 L CNN
F 1 "22p" H 4850 5100 50  0000 L CNN
F 2 "Capacitor_SMD:C_0402_1005Metric" H 5088 5050 50  0001 C CNN
F 3 "" H 5050 5200 50  0001 C CNN
F 4 "C696906" H 5050 5200 50  0001 C CNN "LCSC"
F 5 "" H 5050 5200 50  0001 C CNN "Price"
F 6 "N" H 5050 5200 50  0001 C CNN "Sponsored"
	1    5050 5200
	-1   0    0    -1  
$EndComp
Text HLabel 8050 4700 2    50   BiDi ~ 0
USB_D+
Text HLabel 8050 4600 2    50   BiDi ~ 0
USB_D-
Wire Wire Line
	6650 4700 6700 4700
Text HLabel 2700 4500 0    50   Input ~ 0
I2C_SCL
$Comp
L Device:Crystal_GND24_Small Y2
U 1 1 5E3ED918
P 4850 2850
F 0 "Y2" V 4800 3000 50  0000 L CNN
F 1 "16MHz" V 4900 3000 50  0000 L CNN
F 2 "Crystal:Crystal_SMD_3225-4Pin_3.2x2.5mm" H 4850 2850 50  0001 C CNN
F 3 "~" H 4850 2850 50  0001 C CNN
F 4 "C13738" H 4850 2850 50  0001 C CNN "LCSC"
F 5 "" H 4850 2850 50  0001 C CNN "Price"
F 6 "-" H 4850 2850 50  0001 C CNN "Mouser"
F 7 "N" H 4850 2850 50  0001 C CNN "Sponsored"
	1    4850 2850
	0    1    1    0   
$EndComp
Text HLabel 2700 4600 0    50   3State ~ 0
I2C_SDA
$Comp
L power:GND #PWR064
U 1 1 5F837C54
P 10600 6100
F 0 "#PWR064" H 10600 5850 50  0001 C CNN
F 1 "GND" H 10605 5927 50  0000 C CNN
F 2 "" H 10600 6100 50  0001 C CNN
F 3 "" H 10600 6100 50  0001 C CNN
	1    10600 6100
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR062
U 1 1 5F837D54
P 10100 6100
F 0 "#PWR062" H 10100 5850 50  0001 C CNN
F 1 "GND" H 10105 5927 50  0000 C CNN
F 2 "" H 10100 6100 50  0001 C CNN
F 3 "" H 10100 6100 50  0001 C CNN
	1    10100 6100
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR060
U 1 1 5F837F7F
P 9600 6100
F 0 "#PWR060" H 9600 5850 50  0001 C CNN
F 1 "GND" H 9605 5927 50  0000 C CNN
F 2 "" H 9600 6100 50  0001 C CNN
F 3 "" H 9600 6100 50  0001 C CNN
	1    9600 6100
	1    0    0    -1  
$EndComp
$Comp
L power:+3.3V #PWR063
U 1 1 5F838F37
P 10600 5800
F 0 "#PWR063" H 10600 5650 50  0001 C CNN
F 1 "+3.3V" H 10615 5973 50  0000 C CNN
F 2 "" H 10600 5800 50  0001 C CNN
F 3 "" H 10600 5800 50  0001 C CNN
	1    10600 5800
	1    0    0    -1  
$EndComp
$Comp
L power:+3.3V #PWR061
U 1 1 5F839325
P 10100 5800
F 0 "#PWR061" H 10100 5650 50  0001 C CNN
F 1 "+3.3V" H 10115 5973 50  0000 C CNN
F 2 "" H 10100 5800 50  0001 C CNN
F 3 "" H 10100 5800 50  0001 C CNN
	1    10100 5800
	1    0    0    -1  
$EndComp
$Comp
L power:+3.3V #PWR059
U 1 1 5F839665
P 9600 5800
F 0 "#PWR059" H 9600 5650 50  0001 C CNN
F 1 "+3.3V" H 9615 5973 50  0000 C CNN
F 2 "" H 9600 5800 50  0001 C CNN
F 3 "" H 9600 5800 50  0001 C CNN
	1    9600 5800
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR055
U 1 1 5F8436B6
P 6000 5350
F 0 "#PWR055" H 6000 5100 50  0001 C CNN
F 1 "GND" H 6005 5177 50  0000 C CNN
F 2 "" H 6000 5350 50  0001 C CNN
F 3 "" H 6000 5350 50  0001 C CNN
	1    6000 5350
	1    0    0    -1  
$EndComp
Wire Wire Line
	6150 5200 6150 5250
Wire Wire Line
	6150 5250 6050 5250
Wire Wire Line
	5850 5250 5850 5200
Wire Wire Line
	5950 5200 5950 5250
Connection ~ 5950 5250
Wire Wire Line
	5950 5250 5850 5250
Wire Wire Line
	6050 5200 6050 5250
Connection ~ 6050 5250
Wire Wire Line
	6050 5250 6000 5250
Connection ~ 6000 5250
Wire Wire Line
	6000 5250 5950 5250
Wire Wire Line
	6250 2200 6250 2150
Wire Wire Line
	6250 2150 6150 2150
Wire Wire Line
	5950 2200 5950 2150
Wire Wire Line
	6050 2200 6050 2150
Connection ~ 6050 2150
Wire Wire Line
	6050 2150 5950 2150
Wire Wire Line
	6150 2200 6150 2150
Connection ~ 6150 2150
Wire Wire Line
	6150 2150 6050 2150
$Comp
L power:+3.3V #PWR056
U 1 1 5F8580CC
P 6050 2050
F 0 "#PWR056" H 6050 1900 50  0001 C CNN
F 1 "+3.3V" H 6065 2223 50  0000 C CNN
F 2 "" H 6050 2050 50  0001 C CNN
F 3 "" H 6050 2050 50  0001 C CNN
	1    6050 2050
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR053
U 1 1 5F889C9A
P 5250 5350
F 0 "#PWR053" H 5250 5100 50  0001 C CNN
F 1 "GND" H 5255 5177 50  0000 C CNN
F 2 "" H 5250 5350 50  0001 C CNN
F 3 "" H 5250 5350 50  0001 C CNN
	1    5250 5350
	1    0    0    -1  
$EndComp
Wire Wire Line
	6050 2050 6050 2150
Wire Wire Line
	5300 2400 5300 2350
Wire Wire Line
	5300 2400 5350 2400
Wire Wire Line
	5350 2800 5300 2800
Wire Wire Line
	5300 2800 5300 2750
Wire Wire Line
	5350 2900 5300 2900
Wire Wire Line
	5300 2900 5300 2950
$Comp
L power:GND #PWR052
U 1 1 5F8DD03C
P 5050 5350
F 0 "#PWR052" H 5050 5100 50  0001 C CNN
F 1 "GND" H 5055 5177 50  0000 C CNN
F 2 "" H 5050 5350 50  0001 C CNN
F 3 "" H 5050 5350 50  0001 C CNN
	1    5050 5350
	1    0    0    -1  
$EndComp
Wire Wire Line
	6000 5250 6000 5350
$Comp
L power:GND #PWR051
U 1 1 5F916F4B
P 4850 5350
F 0 "#PWR051" H 4850 5100 50  0001 C CNN
F 1 "GND" H 4855 5177 50  0000 C CNN
F 2 "" H 4850 5350 50  0001 C CNN
F 3 "" H 4850 5350 50  0001 C CNN
	1    4850 5350
	1    0    0    -1  
$EndComp
Connection ~ 5300 2400
Text HLabel 2700 2600 0    50   Input ~ 0
STM32_BOOT0
Text HLabel 2700 2400 0    50   Input ~ 0
STM32_RESET
Text HLabel 2700 3500 0    50   Output ~ 0
ESP32_EN
Text HLabel 2700 3600 0    50   Output ~ 0
ESP32_BL
Wire Wire Line
	6650 3700 8050 3700
Wire Wire Line
	6650 3800 8050 3800
Wire Wire Line
	6650 4600 8050 4600
Wire Wire Line
	6650 4500 8050 4500
Wire Wire Line
	6650 4400 8050 4400
Wire Wire Line
	6700 4700 6700 2350
Connection ~ 6700 4700
Wire Wire Line
	6700 4700 7550 4700
Text Notes 550  650  0    79   ~ 0
STM32 microcontroller
$Comp
L Device:R R?
U 1 1 5F9B952F
P 3650 5200
AR Path="/5DC753C3/5F9B952F" Ref="R?"  Part="1" 
AR Path="/5F9B952F" Ref="R?"  Part="1" 
AR Path="/5E3BA64A/5F9B952F" Ref="R?"  Part="1" 
AR Path="/5F51E414/5F9B952F" Ref="R25"  Part="1" 
F 0 "R25" V 3750 5200 50  0000 C CNN
F 1 "10k" V 3650 5200 50  0000 C CNN
F 2 "Resistor_SMD:R_0402_1005Metric" V 3580 5200 50  0001 C CNN
F 3 "~" H 3650 5200 50  0001 C CNN
F 4 "" H 3650 5200 50  0001 C CNN "LCSC"
F 5 "" H 3650 5200 50  0001 C CNN "Price"
F 6 "-" H 3650 5200 50  0001 C CNN "Mouser"
F 7 "N" H 3650 5200 50  0001 C CNN "Sponsored"
	1    3650 5200
	-1   0    0    1   
$EndComp
$Comp
L power:GND #PWR048
U 1 1 5F9BA337
P 3650 5350
F 0 "#PWR048" H 3650 5100 50  0001 C CNN
F 1 "GND" H 3655 5177 50  0000 C CNN
F 2 "" H 3650 5350 50  0001 C CNN
F 3 "" H 3650 5350 50  0001 C CNN
	1    3650 5350
	1    0    0    -1  
$EndComp
Wire Wire Line
	3650 5050 3650 2600
Connection ~ 3650 2600
Wire Wire Line
	6650 4100 8050 4100
Wire Wire Line
	6650 4000 8050 4000
Wire Wire Line
	6650 4200 8050 4200
Text HLabel 8050 4000 2    50   Input ~ 0
SPI_SCK
Text HLabel 8050 4100 2    50   Output ~ 0
SPI_MISO
Text HLabel 8050 4200 2    50   Input ~ 0
SPI_MOSI
Text HLabel 2700 4900 0    50   Output ~ 0
PWR_LED_ENABLE
Text HLabel 8050 3600 2    50   Input ~ 0
SENSE_VBAT
Text HLabel 8050 3500 2    50   Input ~ 0
SENSE_VUSB
Text HLabel 2700 4700 0    50   BiDi ~ 0
SAO_IO0
Text HLabel 2700 4800 0    50   BiDi ~ 0
SAO_IO1
Wire Wire Line
	6650 3500 8050 3500
Wire Wire Line
	8050 3600 6650 3600
Text HLabel 2700 3900 0    50   Output ~ 0
LCD_RESET
Text HLabel 2700 4000 0    50   Output ~ 0
LCD_MODE
Wire Wire Line
	2700 3900 5350 3900
Wire Wire Line
	5350 4000 2700 4000
Wire Wire Line
	6650 4300 8050 4300
Text HLabel 8050 4300 2    50   Output ~ 0
MCO
Text Notes 700  7650 0    79   ~ 0
if using hardware time and the aproach of DMA > Timer Output\ncompare register you will need bridge pb15 and pb11 so we can\nselect or spi or tim
Text Notes 750  3200 0    50   ~ 0
The ESP32 BL pin also serves as IRQ
Text HLabel 2700 4400 0    50   Output ~ 0
LCD_BACKLIGHT
Wire Wire Line
	2700 3600 3100 3600
Wire Wire Line
	2700 2400 2800 2400
Wire Wire Line
	2700 2600 3650 2600
Wire Notes Line
	2750 2600 2800 2650
$Comp
L power:+3.3V #PWR054
U 1 1 5F86D644
P 5300 2050
F 0 "#PWR054" H 5300 1900 50  0001 C CNN
F 1 "+3.3V" H 5315 2223 50  0000 C CNN
F 2 "" H 5300 2050 50  0001 C CNN
F 3 "" H 5300 2050 50  0001 C CNN
	1    5300 2050
	1    0    0    -1  
$EndComp
$Comp
L Device:R R?
U 1 1 5E3DFB2E
P 5300 2200
AR Path="/5DC753C3/5E3DFB2E" Ref="R?"  Part="1" 
AR Path="/5E3DFB2E" Ref="R?"  Part="1" 
AR Path="/5E3BA64A/5E3DFB2E" Ref="R?"  Part="1" 
AR Path="/5F51E414/5E3DFB2E" Ref="R26"  Part="1" 
F 0 "R26" V 5200 2200 50  0000 C CNN
F 1 "10k" V 5300 2200 50  0000 C CNN
F 2 "Resistor_SMD:R_0402_1005Metric" V 5230 2200 50  0001 C CNN
F 3 "~" H 5300 2200 50  0001 C CNN
F 4 "" H 5300 2200 50  0001 C CNN "LCSC"
F 5 "" H 5300 2200 50  0001 C CNN "Price"
F 6 "-" H 5300 2200 50  0001 C CNN "Mouser"
F 7 "N" H 5300 2200 50  0001 C CNN "Sponsored"
	1    5300 2200
	1    0    0    -1  
$EndComp
Wire Notes Line
	2750 3850 2750 3900
Wire Notes Line
	2700 4400 2750 4350
Wire Notes Line
	2750 4350 2750 4400
Wire Notes Line
	2800 2650 2800 2600
Wire Notes Line
	2700 2400 2750 2350
Wire Notes Line
	2750 2350 2750 2400
Wire Notes Line
	2800 4000 2800 4050
Wire Notes Line
	2800 4050 2750 4000
Wire Wire Line
	2700 4500 5350 4500
Wire Notes Line
	2700 3900 2750 3850
Text HLabel 8050 3900 2    50   Input ~ 0
SPI_CS
$Comp
L power:+3.3V #PWR057
U 1 1 5F85DFEF
P 6700 2050
F 0 "#PWR057" H 6700 1900 50  0001 C CNN
F 1 "+3.3V" H 6715 2223 50  0000 C CNN
F 2 "" H 6700 2050 50  0001 C CNN
F 3 "" H 6700 2050 50  0001 C CNN
	1    6700 2050
	1    0    0    -1  
$EndComp
$Comp
L Device:R R?
U 1 1 5E4109CF
P 6700 2200
AR Path="/5DC753C3/5E4109CF" Ref="R?"  Part="1" 
AR Path="/5E4109CF" Ref="R?"  Part="1" 
AR Path="/5E3BA64A/5E4109CF" Ref="R?"  Part="1" 
AR Path="/5F51E414/5E4109CF" Ref="R27"  Part="1" 
F 0 "R27" V 6600 2200 50  0000 C CNN
F 1 "DNP" V 6700 2200 50  0000 C CNN
F 2 "Resistor_SMD:R_0402_1005Metric" V 6630 2200 50  0001 C CNN
F 3 "~" H 6700 2200 50  0001 C CNN
F 4 "" H 6700 2200 50  0001 C CNN "LCSC"
F 5 "" H 6700 2200 50  0001 C CNN "Price"
F 6 "-" H 6700 2200 50  0001 C CNN "Mouser"
F 7 "N" H 6700 2200 50  0001 C CNN "Sponsored"
	1    6700 2200
	1    0    0    -1  
$EndComp
$Comp
L MCU_ST_STM32F1:STM32F103C8Tx U3
U 1 1 5E3BAF1D
P 6050 3700
F 0 "U3" H 6300 2250 50  0000 C CNN
F 1 "STM32F103C8Tx" H 6550 2150 50  0000 C CNN
F 2 "Package_QFP:LQFP-48_7x7mm_P0.5mm" H 5450 2300 50  0001 R CNN
F 3 "http://www.st.com/st-web-ui/static/active/en/resource/technical/document/datasheet/CD00161566.pdf" H 6050 3700 50  0001 C CNN
F 4 "C8734" H 6050 3700 50  0001 C CNN "LCSC"
F 5 "" H 6050 3700 50  0001 C CNN "Price"
F 6 "-" H 6050 3700 50  0001 C CNN "Mouser"
F 7 "N" H 6050 3700 50  0001 C CNN "Sponsored"
	1    6050 3700
	1    0    0    -1  
$EndComp
$Comp
L power:+3.3V #PWR058
U 1 1 5F7D9ABF
P 7000 2050
F 0 "#PWR058" H 7000 1900 50  0001 C CNN
F 1 "+3.3V" H 7015 2223 50  0000 C CNN
F 2 "" H 7000 2050 50  0001 C CNN
F 3 "" H 7000 2050 50  0001 C CNN
	1    7000 2050
	1    0    0    -1  
$EndComp
$Comp
L Device:R R?
U 1 1 5F7D9AC9
P 7000 2200
AR Path="/5DC753C3/5F7D9AC9" Ref="R?"  Part="1" 
AR Path="/5F7D9AC9" Ref="R?"  Part="1" 
AR Path="/5E3BA64A/5F7D9AC9" Ref="R?"  Part="1" 
AR Path="/5F51E414/5F7D9AC9" Ref="R28"  Part="1" 
F 0 "R28" V 6900 2200 50  0000 C CNN
F 1 "100k" V 7000 2200 50  0000 C CNN
F 2 "Resistor_SMD:R_0402_1005Metric" V 6930 2200 50  0001 C CNN
F 3 "~" H 7000 2200 50  0001 C CNN
F 4 "" H 7000 2200 50  0001 C CNN "LCSC"
F 5 "" H 7000 2200 50  0001 C CNN "Price"
F 6 "-" H 7000 2200 50  0001 C CNN "Mouser"
F 7 "N" H 7000 2200 50  0001 C CNN "Sponsored"
	1    7000 2200
	1    0    0    -1  
$EndComp
Wire Wire Line
	8050 3900 7000 3900
Connection ~ 7000 3900
Wire Wire Line
	7000 3900 6650 3900
Wire Wire Line
	7000 2350 7000 3900
Text HLabel 2700 3700 0    50   Input ~ 0
CHARGING
Wire Wire Line
	2700 4900 5350 4900
Wire Wire Line
	5350 4600 2700 4600
Wire Notes Line
	5450 3000 5700 3000
Wire Notes Line
	5700 3000 5700 3350
Wire Notes Line
	5700 3350 5450 3350
Text Notes 5800 3350 1    39   ~ 0
Sink only
Text HLabel 2700 5000 0    50   Output ~ 0
PWR_SDCARD_ENABLE
Wire Wire Line
	5350 5000 2700 5000
Wire Wire Line
	3650 2600 5350 2600
$Comp
L Device:R R?
U 1 1 6015B06D
P 3250 3600
AR Path="/5DC753C3/6015B06D" Ref="R?"  Part="1" 
AR Path="/6015B06D" Ref="R?"  Part="1" 
AR Path="/5E3BA64A/6015B06D" Ref="R?"  Part="1" 
AR Path="/5F51E414/6015B06D" Ref="R23"  Part="1" 
F 0 "R23" V 3300 3750 50  0000 C CNN
F 1 "47" V 3250 3600 50  0000 C CNN
F 2 "Resistor_SMD:R_0402_1005Metric" V 3180 3600 50  0001 C CNN
F 3 "~" H 3250 3600 50  0001 C CNN
F 4 "" H 3250 3600 50  0001 C CNN "LCSC"
F 5 "" H 3250 3600 50  0001 C CNN "Price"
F 6 "-" H 3250 3600 50  0001 C CNN "Mouser"
F 7 "N" H 3250 3600 50  0001 C CNN "Sponsored"
	1    3250 3600
	0    -1   -1   0   
$EndComp
$Comp
L Device:Crystal_Small Y1
U 1 1 5FC777BF
P 4350 3250
F 0 "Y1" V 4304 3338 50  0000 L CNN
F 1 "32kHz" V 4395 3338 50  0000 L CNN
F 2 "Crystal:Crystal_SMD_3215-2Pin_3.2x1.5mm" H 4350 3250 50  0001 C CNN
F 3 "~" H 4350 3250 50  0001 C CNN
	1    4350 3250
	0    1    1    0   
$EndComp
Wire Wire Line
	5250 5050 5250 2750
Connection ~ 5250 2750
Wire Wire Line
	5250 2750 5300 2750
Wire Wire Line
	5050 5050 5050 2950
Connection ~ 5050 2950
Wire Wire Line
	5050 2950 5300 2950
Wire Wire Line
	4850 2750 5250 2750
Wire Wire Line
	4850 2950 5050 2950
Wire Wire Line
	4950 2850 4950 3050
Wire Wire Line
	4950 3050 4850 3050
Wire Wire Line
	4750 3050 4750 2850
Wire Wire Line
	4850 3050 4850 5350
Connection ~ 4850 3050
Wire Wire Line
	4850 3050 4750 3050
$Comp
L Device:C C?
U 1 1 5FCCE7C7
P 4650 5200
AR Path="/5DC753C3/5FCCE7C7" Ref="C?"  Part="1" 
AR Path="/5FCCE7C7" Ref="C?"  Part="1" 
AR Path="/5E3BA64A/5FCCE7C7" Ref="C?"  Part="1" 
AR Path="/5F51E414/5FCCE7C7" Ref="C8"  Part="1" 
F 0 "C8" H 4650 5300 50  0000 L CNN
F 1 "22p" H 4650 5100 50  0000 L CNN
F 2 "Capacitor_SMD:C_0402_1005Metric" H 4688 5050 50  0001 C CNN
F 3 "" H 4650 5200 50  0001 C CNN
F 4 "C696906" H 4650 5200 50  0001 C CNN "LCSC"
F 5 "" H 4650 5200 50  0001 C CNN "Price"
F 6 "N" H 4650 5200 50  0001 C CNN "Sponsored"
	1    4650 5200
	1    0    0    -1  
$EndComp
$Comp
L Device:C C?
U 1 1 5FCCE7D0
P 4450 5200
AR Path="/5DC753C3/5FCCE7D0" Ref="C?"  Part="1" 
AR Path="/5FCCE7D0" Ref="C?"  Part="1" 
AR Path="/5E3BA64A/5FCCE7D0" Ref="C?"  Part="1" 
AR Path="/5F51E414/5FCCE7D0" Ref="C7"  Part="1" 
F 0 "C7" H 4300 5300 50  0000 L CNN
F 1 "22p" H 4250 5100 50  0000 L CNN
F 2 "Capacitor_SMD:C_0402_1005Metric" H 4488 5050 50  0001 C CNN
F 3 "" H 4450 5200 50  0001 C CNN
F 4 "C696906" H 4450 5200 50  0001 C CNN "LCSC"
F 5 "" H 4450 5200 50  0001 C CNN "Price"
F 6 "N" H 4450 5200 50  0001 C CNN "Sponsored"
	1    4450 5200
	-1   0    0    -1  
$EndComp
$Comp
L power:GND #PWR050
U 1 1 5FCCE7D6
P 4650 5350
F 0 "#PWR050" H 4650 5100 50  0001 C CNN
F 1 "GND" H 4655 5177 50  0000 C CNN
F 2 "" H 4650 5350 50  0001 C CNN
F 3 "" H 4650 5350 50  0001 C CNN
	1    4650 5350
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR049
U 1 1 5FCCE7DC
P 4450 5350
F 0 "#PWR049" H 4450 5100 50  0001 C CNN
F 1 "GND" H 4455 5177 50  0000 C CNN
F 2 "" H 4450 5350 50  0001 C CNN
F 3 "" H 4450 5350 50  0001 C CNN
	1    4450 5350
	1    0    0    -1  
$EndComp
Wire Wire Line
	4750 3300 4750 3350
Wire Wire Line
	4750 3300 5350 3300
Wire Wire Line
	4750 3200 4750 3150
Wire Wire Line
	4750 3200 5350 3200
Wire Wire Line
	4350 3150 4650 3150
Wire Wire Line
	4350 3350 4450 3350
Wire Wire Line
	4450 3350 4450 5050
Connection ~ 4450 3350
Wire Wire Line
	4450 3350 4750 3350
Wire Wire Line
	4650 3150 4650 5050
Connection ~ 4650 3150
Wire Wire Line
	4650 3150 4750 3150
Wire Wire Line
	2700 4700 5350 4700
Wire Wire Line
	5350 4800 2700 4800
Wire Wire Line
	5350 3500 2700 3500
Wire Wire Line
	2700 3700 5350 3700
Wire Wire Line
	5350 3600 3400 3600
Text GLabel 5850 2000 1    31   Input ~ 0
BAT_3.3
$Comp
L Device:R R?
U 1 1 5FB263DC
P 7550 4850
AR Path="/5DC753C3/5FB263DC" Ref="R?"  Part="1" 
AR Path="/5FB263DC" Ref="R?"  Part="1" 
AR Path="/5E3BA64A/5FB263DC" Ref="R?"  Part="1" 
AR Path="/5F51E414/5FB263DC" Ref="R29"  Part="1" 
F 0 "R29" V 7450 4850 50  0000 C CNN
F 1 "10k" V 7550 4850 50  0000 C CNN
F 2 "Resistor_SMD:R_0402_1005Metric" V 7480 4850 50  0001 C CNN
F 3 "~" H 7550 4850 50  0001 C CNN
F 4 "" H 7550 4850 50  0001 C CNN "LCSC"
F 5 "" H 7550 4850 50  0001 C CNN "Price"
F 6 "-" H 7550 4850 50  0001 C CNN "Mouser"
F 7 "N" H 7550 4850 50  0001 C CNN "Sponsored"
	1    7550 4850
	1    0    0    -1  
$EndComp
Connection ~ 7550 4700
Wire Wire Line
	7550 4700 8050 4700
Wire Wire Line
	7550 5000 6650 5000
Text HLabel 8050 4400 2    50   Output ~ 0
ESP32_RX
Text HLabel 8050 4500 2    50   Input ~ 0
ESP32_TX
Text HLabel 8050 3700 2    50   Output ~ 0
FPGA_RX
Text HLabel 8050 3800 2    50   Input ~ 0
FPGA_TX
Wire Notes Line
	8500 4350 8500 4550
Text Notes 8550 4450 0    50   ~ 0
Bootloader UART
Wire Wire Line
	5350 3100 3500 3100
$Comp
L Device:R R?
U 1 1 5FB5E63D
P 3050 6250
AR Path="/5DC753C3/5FB5E63D" Ref="R?"  Part="1" 
AR Path="/5FB5E63D" Ref="R?"  Part="1" 
AR Path="/5E3BA64A/5FB5E63D" Ref="R?"  Part="1" 
AR Path="/5F51E414/5FB5E63D" Ref="R22"  Part="1" 
AR Path="/5FDC6C76/5FB5E63D" Ref="R?"  Part="1" 
F 0 "R22" V 2950 6250 50  0000 C CNN
F 1 "47" V 3050 6250 50  0000 C CNN
F 2 "Resistor_SMD:R_0402_1005Metric" V 2980 6250 50  0001 C CNN
F 3 "~" H 3050 6250 50  0001 C CNN
F 4 "" H 3050 6250 50  0001 C CNN "LCSC"
F 5 "" H 3050 6250 50  0001 C CNN "Price"
F 6 "-" H 3050 6250 50  0001 C CNN "Mouser"
F 7 "N" H 3050 6250 50  0001 C CNN "Sponsored"
	1    3050 6250
	0    1    1    0   
$EndComp
$Comp
L Device:Q_NMOS_GSD Q?
U 1 1 5FB5E630
P 3400 6250
AR Path="/5FDC6C76/5FB5E630" Ref="Q?"  Part="1" 
AR Path="/5F51E414/5FB5E630" Ref="Q3"  Part="1" 
F 0 "Q3" H 3350 6050 50  0000 C CNN
F 1 "Q_NMOS_GSD" H 3150 6150 50  0000 C CNN
F 2 "Package_TO_SOT_SMD:SOT-23" H 3600 6350 50  0001 C CNN
F 3 "~" H 3400 6250 50  0001 C CNN
F 4 "C406812" H 3400 6250 50  0001 C CNN "LCSC"
F 5 "-" H 3400 6250 50  0001 C CNN "Mouser"
F 6 "" H 3400 6250 50  0001 C CNN "Price"
F 7 "N" H 3400 6250 50  0001 C CNN "Sponsored"
	1    3400 6250
	1    0    0    -1  
$EndComp
$Comp
L Device:R R?
U 1 1 5FB7AAB6
P 3500 2200
AR Path="/5DC753C3/5FB7AAB6" Ref="R?"  Part="1" 
AR Path="/5FB7AAB6" Ref="R?"  Part="1" 
AR Path="/5E3BA64A/5FB7AAB6" Ref="R?"  Part="1" 
AR Path="/5F51E414/5FB7AAB6" Ref="R24"  Part="1" 
F 0 "R24" V 3600 2200 50  0000 C CNN
F 1 "10k" V 3500 2200 50  0000 C CNN
F 2 "Resistor_SMD:R_0402_1005Metric" V 3430 2200 50  0001 C CNN
F 3 "~" H 3500 2200 50  0001 C CNN
F 4 "" H 3500 2200 50  0001 C CNN "LCSC"
F 5 "" H 3500 2200 50  0001 C CNN "Price"
F 6 "-" H 3500 2200 50  0001 C CNN "Mouser"
F 7 "N" H 3500 2200 50  0001 C CNN "Sponsored"
	1    3500 2200
	-1   0    0    1   
$EndComp
$Comp
L power:+3.3V #PWR046
U 1 1 5FB7E8B5
P 3500 2050
F 0 "#PWR046" H 3500 1900 50  0001 C CNN
F 1 "+3.3V" H 3515 2223 50  0000 C CNN
F 2 "" H 3500 2050 50  0001 C CNN
F 3 "" H 3500 2050 50  0001 C CNN
	1    3500 2050
	1    0    0    -1  
$EndComp
Wire Wire Line
	3500 2350 3500 3100
Wire Wire Line
	3500 3100 3500 6050
Connection ~ 3500 3100
$Comp
L power:GND #PWR047
U 1 1 5FB9040E
P 3500 6450
F 0 "#PWR047" H 3500 6200 50  0001 C CNN
F 1 "GND" H 3505 6277 50  0000 C CNN
F 2 "" H 3500 6450 50  0001 C CNN
F 3 "" H 3500 6450 50  0001 C CNN
	1    3500 6450
	1    0    0    -1  
$EndComp
Wire Wire Line
	2700 6250 2900 6250
Text HLabel 2700 6250 0    50   Input ~ 0
USB_DET
Wire Wire Line
	5350 3800 2700 3800
Text HLabel 2700 3800 0    50   Output ~ 0
ESP32_WK
Wire Wire Line
	5350 4100 2700 4100
Text HLabel 2700 4100 0    50   Output ~ 0
LED_DATA
$Comp
L Connector_Generic:Conn_02x03_Odd_Even J8
U 1 1 5FF4BC2C
P 9350 1850
F 0 "J8" H 9400 2167 50  0000 C CNN
F 1 "JTAG" H 9400 2076 50  0000 C CNN
F 2 "Connector:Tag-Connect_TC2030-IDC-FP_2x03_P1.27mm_Vertical" H 9350 1850 50  0001 C CNN
F 3 "~" H 9350 1850 50  0001 C CNN
	1    9350 1850
	1    0    0    -1  
$EndComp
$Comp
L power:+3.3V #PWR0217
U 1 1 5FF4D564
P 9100 1700
F 0 "#PWR0217" H 9100 1550 50  0001 C CNN
F 1 "+3.3V" H 9115 1873 50  0000 C CNN
F 2 "" H 9100 1700 50  0001 C CNN
F 3 "" H 9100 1700 50  0001 C CNN
	1    9100 1700
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR0218
U 1 1 5FF4E6B4
P 9100 2000
F 0 "#PWR0218" H 9100 1750 50  0001 C CNN
F 1 "GND" H 9105 1827 50  0000 C CNN
F 2 "" H 9100 2000 50  0001 C CNN
F 3 "" H 9100 2000 50  0001 C CNN
	1    9100 2000
	1    0    0    -1  
$EndComp
Wire Wire Line
	9150 1950 9100 1950
Wire Wire Line
	9100 1950 9100 2000
Wire Wire Line
	9150 1750 9100 1750
Wire Wire Line
	9100 1750 9100 1700
Text GLabel 9650 1750 2    31   Input ~ 0
STM32_SWDIO
Text GLabel 9150 1850 0    31   Input ~ 0
STM32_RESET
Text GLabel 9650 1850 2    31   Input ~ 0
STM32_SWCLK
NoConn ~ 9650 1950
Wire Wire Line
	5350 4400 2700 4400
Wire Wire Line
	2700 4300 5350 4300
Wire Wire Line
	2700 4200 5350 4200
Text GLabel 6650 4800 2    31   Input ~ 0
STM32_SWDIO
Text GLabel 6650 4900 2    31   Input ~ 0
STM32_SWCLK
Text GLabel 2700 2500 0    31   Input ~ 0
STM32_RESET
Wire Wire Line
	2700 2500 2800 2500
Wire Wire Line
	2800 2500 2800 2400
Connection ~ 2800 2400
Wire Wire Line
	2800 2400 5300 2400
Wire Wire Line
	5850 2200 5850 2000
$EndSCHEMATC
